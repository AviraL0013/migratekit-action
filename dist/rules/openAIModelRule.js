"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.openAIModelRule = void 0;
const openaiScanner_1 = require("../scanners/openaiScanner");
const openaiModelMigrator_1 = require("../migrators/openaiModelMigrator");
exports.openAIModelRule = {
    id: "openai-model-rename",
    description: "Migrate deprecated OpenAI model gpt-3.5-turbo",
    async scan(root) {
        return (0, openaiScanner_1.scanOpenAIModels)(root);
    },
    async migrate(findings) {
        if (findings.length === 0)
            return false;
        await (0, openaiModelMigrator_1.migrateOpenAIModels)(findings);
        return true;
    },
    pr: {
        branch: "migratekit/openai-model",
        title: "Update deprecated OpenAI model",
        body: "This PR was automatically generated by MigrateKit.\n\n" +
            "Changes:\n" +
            "- Replaced `gpt-3.5-turbo` with `gpt-4.1-mini`\n\n" +
            "⚠️ Manual review recommended for output quality and token usage.",
        humanReviewNotes: "Validate responses, latency, and cost after model upgrade."
    }
};
